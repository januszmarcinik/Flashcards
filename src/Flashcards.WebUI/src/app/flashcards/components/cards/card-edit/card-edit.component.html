<app-header>
  <p navigation>
    Flashcards / Decks / {{deck}} / Cards / Edit
  </p>
  <div content>
    <p>
      <button mat-stroked-button (click)="goBack()">
        <mat-icon>undo</mat-icon>
        Back
      </button>
    </p>
  </div>
</app-header>
<div class="row">
  <div class="col-sm-8 offset-sm-2">
    <mat-card>
      <mat-card-content>
        <div class="row">
          <div class="col-sm-4">
            <button
              mat-stroked-button
              (click)="prev()"
              [disabled]="!previousExists">
              <mat-icon>skip_previous</mat-icon>
              Previous
            </button>
          </div>

          <div class="col-sm-4 text-center">
            <button mat-stroked-button
                    [disabled]="cardForm.invalid"
                    (click)="save()">
              <mat-icon>check</mat-icon>
              Save
            </button>
          </div>

          <div class="col-sm-4 text-right">
            <button
              mat-stroked-button
              (click)="next()"
              [disabled]="!nextExists">
              <mat-icon>skip_next</mat-icon>
              Next
            </button>
          </div>
        </div>
        <hr />

        <form [formGroup]="cardForm">

          <quill-editor
            [modules]="modules"
            formControlName="question"
            appBlockCut
            (cut)="onCut($event)">
          </quill-editor>

          <quill-editor
            [modules]="modules"
            formControlName="answer"
            appBlockCut
            (cut)="onCut($event)">
          </quill-editor>

          <div class="row">
            <div class="col-sm-12 text-center">
              <mat-checkbox formControlName="confirmed" color="primary">
                Confirmed
              </mat-checkbox>
            </div>
          </div>

        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<app-comment-list
  [deck]="deck"
  [cardId]="cardId"
  #commentList>
</app-comment-list>
